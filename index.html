<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация</title>
    <link rel="stylesheet" href="assets/style/normalize.css">
    <link rel="stylesheet" href="assets/style/style.css">
</head>

<body>
    <div class="container">
        <form novalidate action="#">
            <h1>Регистрация:</h1>
            <div class="block-form name">
                <label for="name">Введите имя*</label>
                <input type="text" id="name" required placeholder="имя">
            </div>
            <div class="block-form gender">
                <label>Ваш пол*</label>
                <input type="radio" name="radio" id="man" required placeholder="ваш пол">
                <label for="man">Мужчина</label>
                <input type="radio" name="radio" id="woman" required placeholder="">
                <label for="woman">Женщина</label>
            </div>
            <div class="block-form dob">
                <label for="date">Дата рождения*</label>
                <input type="date" id="date" required placeholder="дата рождения">
            </div>
            <div class="block-form tel">
                <label for="telephone">Ваш телефон*</label>
                <input type="tel" id="telephone" title="'8(926)123-45-67'"
                    pattern="^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$" required placeholder="телефон">
            </div>
            <div class="block-form country">
                <label for="country">Место рождения:</label>
                <select name="country" id="country" required>
                    <option disabled selected>Выберете страну</option>
                    <option value="Russia">Россия</option>
                    <option value="Belarus">Белоруссия</option>
                    <option value="Ukraine">Украина</option>
                    <option value="Kazakhstan">Казахстан</option>
                    <option value="Georgia">Грузия</option>
                </select>
            </div>
            <div class="block-form password">
                <label for="password">Введите пароль*</label>
                <input type="password" pattern="^[0-9a-zA-Z!@#$%^&*]{5,}$" title="'пароль начинается от 5 символов'"
                    id="password" required placeholder="пароль">
            </div>
            <div id="errorMessage" class="block-form errorMessage"></div>
            <button onclick="checkAll()" type="submit">Отправить</button>
        </form>
    </div>
    <script>
        'use strict';
        let errors = [];

        function checkValidity(input) {
            const validity = input.validity;
            if (validity.valueMissing && input.placeholder !== '') {
                errors.push('Поле ' + input.placeholder + ' не заполнено');
            }
            if (validity.patternMismatch) {
                errors.push(
                    `Неверный формат заполнения поля ${input.placeholder}<br> Подсказка для заполнения поля: ${input.title}`
                );
            }
        }

        function checkAll() {
            errors = [];
            const inputs = document.querySelectorAll('input');
            for (let input of inputs) {
                checkValidity(input);
            }
            document.getElementById("errorMessage").innerHTML = errors.join('. <br>');
        }
    </script>
</body>

</html>